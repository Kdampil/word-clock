<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>World Clock - Time Zones</title>
    <!-- Load Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* CSS Variables */
        :root {
            --background-color: #f5f5f7;
            --button-color: #0079bf;
            --block-bg-color: #ffffff;
            --title-bar-bg-color: #f5f5f7;
            --title-text-color: #42526e;
            --block-title-color: #42526e;
            --time-color: #42526e;
            --flip-base-color: #fff;
            --flip-dark-color: #a6a6a6;
            --flip-text-color: #333;
            --flip-dark-text-color: #555;
        }

        /* Global Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Oswald', sans-serif;
            background: var(--background-color);
            color: var(--time-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            overflow: hidden;
            transition: background 0.3s ease;
        }

        /* Title Bar */
        .title-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 30px;
            width: 100%;
            background: var(--title-bar-bg-color);
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            padding: 0 10px;
        }

        .title-bar .buttons button {
            background: none;
            border: none;
            font-size: 1rem;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .title-bar .buttons button:hover {
            opacity: 1;
        }

        /* Header */
        header {
            text-align: center;
            margin-top: 40px;
            margin-bottom: 20px;
        }

        header h1 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--title-text-color);
        }

        /* Controls */
        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .controls button {
            background: var(--button-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .controls button:hover {
            transform: scale(1.1);
        }

        /* Dropdowns */
        .dropdown {
            position: absolute;
            top: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: none;
            z-index: 10;
            width: 300px;
        }

        .dropdown select,
        .dropdown input[type="color"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        .dropdown button {
            width: 100%;
            padding: 10px;
            background: var(--button-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        /* Time Zone Container */
        .time-zone-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 90vw;
            max-width: 400px;
        }

        .time-zone {
            background: var(--block-bg-color);
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .time-zone h2 {
            font-size: 1rem;
            margin-bottom: 10px;
            color: var(--block-title-color);
        }

        /* Flip Clock */
        .clock {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1vw; /* Small gap between digits within groups */
        }

        .digit {
            position: relative;
            width: 10vw; /* Fixed width for uniformity */
            height: 15vw; /* Fixed height for flip animation */
            background-color: var(--flip-base-color);
            border-radius: 1vw;
            text-align: center;
            font-family: 'Oswald', sans-serif;
            font-size: 11vw;
            margin-right: 1vw; /* Small gap between digits within groups */
        }

        .am-pm-digit {
            width: 12vw; /* Wider to accommodate "AM" or "PM" */
            font-size: 8vw; /* Slightly smaller font size */
        }

        .spacer {
            width: 3vw; /* Add spacing between groups */
            height: 15vw; /* Match the height of digits */
        }

        .base {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--flip-text-color);
        }

        /* Flap Animations */
        .flap {
            display: none;
            position: absolute;
            width: 100%;
            height: 50%;
            background-color: var(--flip-base-color);
            left: 0;
            top: 0;
            border-radius: 1vw 1vw 0 0;
            transform-origin: 50% 100%;
            backface-visibility: hidden;
            overflow: hidden;
        }

        @keyframes flip-down-front {
            0% {
                transform: rotateX(0deg);
                background-color: var(--flip-base-color);
                color: var(--flip-text-color);
            }
            100% {
                transform: rotateX(-180deg);
                background-color: var(--flip-dark-color);
                color: var(--flip-dark-text-color);
            }
        }

        @keyframes flip-down-back {
            0% {
                transform: rotateY(180deg) rotateX(0deg);
                background-color: var(--flip-dark-color);
                color: var(--flip-dark-text-color);
            }
            100% {
                transform: rotateY(180deg) rotateX(180deg);
                background-color: var(--flip-base-color);
                color: var(--flip-text-color);
            }
        }

        @keyframes fade-under {
            0% {
                background-color: var(--flip-dark-color);
                color: var(--flip-dark-text-color);
            }
            100% {
                background-color: var(--flip-base-color);
                color: var(--flip-text-color);
            }
        }
    </style>
</head>
<body>
    <!-- Title Bar -->
    <div class="title-bar">
        <span></span>
        <div class="buttons">
            <button id="minimize-btn">‚àí</button>
            <button id="close-btn">√ó</button>
        </div>
    </div>

    <!-- Header -->
    <header>
        <h1>üåç World Clock</h1>
    </header>

    <!-- Controls -->
    <div class="controls">
        <button id="add-btn">üåê</button>
        <button id="gear-btn">‚öôÔ∏è</button>
        <button id="pin-btn">üìå</button>
    </div>

    <!-- Time Zone Dropdown -->
    <div class="dropdown" id="timezone-dropdown">
        <select id="timezone-select">
            <option value="Etc/UTC">UTC (Coordinated Universal Time)</option>
            <option value="Etc/GMT+12">UTC-12:00 (Baker Island Time)</option>
            <option value="Etc/GMT+11">UTC-11:00 (Niue Time)</option>
            <option value="Etc/GMT+10">UTC-10:00 (Hawaii-Aleutian Standard Time)</option>
            <option value="Etc/GMT+9">UTC-09:00 (Alaska Standard Time)</option>
            <option value="Etc/GMT+8">UTC-08:00 (Pacific Standard Time)</option>
            <option value="Etc/GMT+7">UTC-07:00 (Mountain Standard Time)</option>
            <option value="Etc/GMT+6">UTC-06:00 (Central Standard Time)</option>
            <option value="Etc/GMT+5">UTC-05:00 (Eastern Standard Time)</option>
            <option value="Etc/GMT+4">UTC-04:00 (Atlantic Standard Time)</option>
            <option value="Etc/GMT+3">UTC-03:00 (Bras√≠lia Time)</option>
            <option value="Etc/GMT+2">UTC-02:00 (South Georgia Time)</option>
            <option value="Etc/GMT+1">UTC-01:00 (Cape Verde Time)</option>
            <option value="Etc/GMT">UTC¬±00:00 (Greenwich Mean Time)</option>
            <option value="Etc/GMT-1">UTC+01:00 (Central European Time)</option>
            <option value="Etc/GMT-2">UTC+02:00 (Eastern European Time)</option>
            <option value="Etc/GMT-3">UTC+03:00 (East Africa Time)</option>
            <option value="Etc/GMT-4">UTC+04:00 (Gulf Standard Time)</option>
            <option value="Etc/GMT-5">UTC+05:00 (Pakistan Standard Time)</option>
            <option value="Etc/GMT-6">UTC+06:00 (Bangladesh Standard Time)</option>
            <option value="Etc/GMT-7">UTC+07:00 (Indochina Time)</option>
            <option value="Etc/GMT-8">UTC+08:00 (China Standard Time)</option>
            <option value="Etc/GMT-9">UTC+09:00 (Japan Standard Time)</option>
            <option value="Etc/GMT-10">UTC+10:00 (Australian Eastern Standard Time)</option>
            <option value="Etc/GMT-11">UTC+11:00 (Solomon Islands Time)</option>
            <option value="Etc/GMT-12">UTC+12:00 (New Zealand Standard Time)</option>
            <option value="Etc/GMT-13">UTC+13:00 (Tonga Time)</option>
            <option value="Etc/GMT-14">UTC+14:00 (Line Islands Time)</option>
        </select>
        <button id="confirm-timezone">Add</button>
    </div>

    <!-- Theme Dropdown -->
    <div class="dropdown" id="theme-dropdown">
        <label>
            Background Color:
            <input type="color" id="bg-color-picker" value="#f5f5f7">
        </label>
        <label>
            Button Color:
            <input type="color" id="button-color-picker" value="#0079bf">
        </label>
        <label>
            Time Block Background:
            <input type="color" id="block-bg-color-picker" value="#ffffff">
        </label>
        <label>
            Title Bar Background:
            <input type="color" id="title-bar-bg-color-picker" value="#f5f5f7">
        </label>
        <label>
            Title Text Color:
            <input type="color" id="title-text-color-picker" value="#42526e">
        </label>
        <label>
            Time Block Title Color:
            <input type="color" id="block-title-color-picker" value="#42526e">
        </label>
        <label>
            Time Text Color:
            <input type="color" id="time-color-picker" value="#42526e">
        </label>
        <label>
            Flip Clock Base Color:
            <input type="color" id="flip-base-color-picker" value="#fff">
        </label>
        <label>
            Flip Clock Dark Color:
            <input type="color" id="flip-dark-color-picker" value="#a6a6a6">
        </label>
        <label>
            Flip Clock Text Color:
            <input type="color" id="flip-text-color-picker" value="#333">
        </label>
        <label>
            Flip Clock Dark Text Color:
            <input type="color" id="flip-dark-text-color-picker" value="#555">
        </label>
        <button id="restore-btn">‚Üª Restore Defaults</button>
    </div>

    <!-- Time Zone Container -->
    <div class="time-zone-container" id="time-zone-container"></div>

    <script>
        // Minimize and Close Buttons
        document.getElementById('minimize-btn').addEventListener('click', () => {
            alert('Minimize Window');
        });
        document.getElementById('close-btn').addEventListener('click', () => {
            alert('Close Window');
        });

        // Toggle Dropdowns
        const addBtn = document.getElementById('add-btn');
        const gearBtn = document.getElementById('gear-btn');
        const timezoneDropdown = document.getElementById('timezone-dropdown');
        const themeDropdown = document.getElementById('theme-dropdown');

        addBtn.addEventListener('click', () => {
            if (timezoneDropdown.style.display === 'block') {
                timezoneDropdown.style.display = 'none';
            } else {
                timezoneDropdown.style.display = 'block';
                themeDropdown.style.display = 'none'; // Hide theme dropdown when showing timezone dropdown
            }
        });

        gearBtn.addEventListener('click', () => {
            if (themeDropdown.style.display === 'block') {
                themeDropdown.style.display = 'none';
            } else {
                themeDropdown.style.display = 'block';
                timezoneDropdown.style.display = 'none'; // Hide timezone dropdown when showing theme dropdown
            }
        });

        // Close dropdowns when clicking outside
        document.addEventListener('click', (event) => {
            if (!timezoneDropdown.contains(event.target) && event.target !== addBtn) {
                timezoneDropdown.style.display = 'none';
            }
            if (!themeDropdown.contains(event.target) && event.target !== gearBtn) {
                themeDropdown.style.display = 'none';
            }
        });

        // Restore Default Theme
        document.getElementById('restore-btn').addEventListener('click', () => {
            document.documentElement.style.setProperty('--background-color', '#f5f5f7');
            document.documentElement.style.setProperty('--button-color', '#0079bf');
            document.documentElement.style.setProperty('--block-bg-color', '#ffffff');
            document.documentElement.style.setProperty('--title-bar-bg-color', '#f5f5f7');
            document.documentElement.style.setProperty('--title-text-color', '#42526e');
            document.documentElement.style.setProperty('--block-title-color', '#42526e');
            document.documentElement.style.setProperty('--time-color', '#42526e');
            document.documentElement.style.setProperty('--flip-base-color', '#fff');
            document.documentElement.style.setProperty('--flip-dark-color', '#a6a6a6');
            document.documentElement.style.setProperty('--flip-text-color', '#333');
            document.documentElement.style.setProperty('--flip-dark-text-color', '#555');

            // Reset color pickers
            document.getElementById('bg-color-picker').value = '#f5f5f7';
            document.getElementById('button-color-picker').value = '#0079bf';
            document.getElementById('block-bg-color-picker').value = '#ffffff';
            document.getElementById('title-bar-bg-color-picker').value = '#f5f5f7';
            document.getElementById('title-text-color-picker').value = '#42526e';
            document.getElementById('block-title-color-picker').value = '#42526e';
            document.getElementById('time-color-picker').value = '#42526e';
            document.getElementById('flip-base-color-picker').value = '#fff';
            document.getElementById('flip-dark-color-picker').value = '#a6a6a6';
            document.getElementById('flip-text-color-picker').value = '#333';
            document.getElementById('flip-dark-text-color-picker').value = '#555';
        });

        // Apply Custom Colors
        document.querySelectorAll('input[type="color"]').forEach((picker) => {
            picker.addEventListener('input', (event) => {
                const variable =
                `--${picker.id.replace('-picker', '')}`;
                document.documentElement.style.setProperty(variable, event.target.value);
            });
        });

        // Add Time Zone
        document.getElementById('confirm-timezone').addEventListener('click', () => {
            const timeZone = document.getElementById('timezone-select').value;
            const optionText = document.getElementById('timezone-select').selectedOptions[0].text;
            addTimeZone(timeZone, optionText);
            timezoneDropdown.style.display = 'none';
        });

        // Time Zone Container
        const timeZones = [];
        function addTimeZone(timeZone, displayName) {
            const timeZoneDiv = document.createElement('div');
            timeZoneDiv.classList.add('time-zone');
            timeZoneDiv.innerHTML = `
                <h2>${displayName}</h2>
                <div class="clock">
                    <div class="digit tenhour">
                        <span class="base"></span>
                        <div class="flap over front"></div>
                        <div class="flap over back"></div>
                        <div class="flap under"></div>
                    </div>
                    <div class="digit hour">
                        <span class="base"></span>
                        <div class="flap over front"></div>
                        <div class="flap over back"></div>
                        <div class="flap under"></div>
                    </div>

                    <div class="spacer"></div>

                    <div class="digit tenmin">
                        <span class="base"></span>
                        <div class="flap over front"></div>
                        <div class="flap over back"></div>
                        <div class="flap under"></div>
                    </div>
                    <div class="digit min">
                        <span class="base"></span>
                        <div class="flap over front"></div>
                        <div class="flap over back"></div>
                        <div class="flap under"></div>
                    </div>

                    <div class="spacer"></div>

                    <div class="digit tensec">
                        <span class="base"></span>
                        <div class="flap over front"></div>
                        <div class="flap over back"></div>
                        <div class="flap under"></div>
                    </div>
                    <div class="digit sec">
                        <span class="base"></span>
                        <div class="flap over front"></div>
                        <div class="flap over back"></div>
                        <div class="flap under"></div>
                    </div>

                    <div class="spacer"></div>

                    <div class="digit am-pm-digit">
                        <span class="base"></span>
                        <div class="flap over front"></div>
                        <div class="flap over back"></div>
                        <div class="flap under"></div>
                    </div>
                </div>
            `;
            document.getElementById('time-zone-container').appendChild(timeZoneDiv);
            timeZones.push({ timeZone, displayName });
            updateTimeForTimeZone(timeZoneDiv, timeZone);
        }

        // Update Time for Each Time Zone
        function updateTimeForTimeZone(tzDiv, timeZone) {
            setInterval(() => {
                const now = new Date();
                const options = { timeZone, hour12: true, hour: '2-digit', minute: '2-digit', second: '2-digit' };
                const timeString = now.toLocaleTimeString('en-US', options);
                const [time, period] = timeString.split(' ');
                const [hours, minutes, seconds] = time.split(':').map(Number);

                tick(`${tzDiv.querySelector('.tenhour')}`, Math.floor(hours / 10));
                tick(`${tzDiv.querySelector('.hour')}`, hours % 10);
                tick(`${tzDiv.querySelector('.tenmin')}`, Math.floor(minutes / 10));
                tick(`${tzDiv.querySelector('.min')}`, minutes % 10);
                tick(`${tzDiv.querySelector('.tensec')}`, Math.floor(seconds / 10));
                tick(`${tzDiv.querySelector('.sec')}`, seconds % 10);
                tzDiv.querySelector('.am-pm-digit .base').textContent = period;
            }, 1000);
        }

        // Flip Animation
        function tick(digitElement, value) {
            if (!digitElement) return;
            const current = digitElement.getAttribute('data-num');
            if (current !== String(value)) {
                digitElement.setAttribute('data-num', value);
                flipTo(digitElement, value);
            }
        }

        function flipTo(digit, n) {
            const current = digit.getAttribute('data-num');
            digit.setAttribute('data-num', n);

            const frontFlap = digit.querySelector('.front');
            const backFlap = digit.querySelector('.back');
            const underFlap = digit.querySelector('.under');

            frontFlap.setAttribute('data-content', current);
            backFlap.setAttribute('data-content', n);
            underFlap.setAttribute('data-content', n);

            digit.querySelectorAll('.flap').forEach((flap) => {
                flap.style.display = 'block';
            });

            setTimeout(() => {
                digit.querySelector('.base').textContent = n;
                digit.querySelectorAll('.flap').forEach((flap) => {
                    flap.style.display = 'none';
                });
            }, 350); // Match this duration with the CSS animation duration
        }
    </script>
</body>
</html>
